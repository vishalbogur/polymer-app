<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/vaadin-grid/vaadin-grid.html">

<dom-module id="my-view6">
    <template>
        <style include="shared-styles">
            :host {
                display: block;
                padding: 10px;
            }

            .card {
                height: 100%;
            }

            vaadin-grid {
                height: auto;
                margin-top: unset;
            }

            #programmingDiv,
            #toolsDiv,
            #frameworksDiv {
                display: none;
            }

            h3{
                background-color: #84aef1;
                color: white;
                padding: 10px;
                margin-bottom: unset;
            }
        </style>

        <div class="card">
            <h1>Skill Matrix</h1>
            <iron-ajax url="data/skills.json" last-response="{{skills}}" auto></iron-ajax>
            <div on-tap="toggleProgrammingDiv">
                <h3>Programming Skills</h3>
            </div>
            <div id="programmingDiv">
                <vaadin-grid aria-label="Skill Matrix" items="[[skills.programming]]">
                    <vaadin-grid-column>
                        <template class="header">Skill</template>
                        <template>[[item.skill]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">No of Years</template>
                        <template>[[item.noOFYears]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">Level</template>
                        <template>
                            <div>[[item.level]]</div>
                        </template>
                    </vaadin-grid-column>
                </vaadin-grid>
            </div>
            <div on-tap="toggleFWDiv">
                <h3>Frameworks</h3>
            </div>
            <div id="frameworksDiv">
                <vaadin-grid aria-label="Skill Matrix" items="[[skills.frameworks]]">
                    <vaadin-grid-column>
                        <template class="header">Skill</template>
                        <template>[[item.skill]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">No of Years</template>
                        <template>[[item.noOFYears]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">Level</template>
                        <template>
                            <div>[[item.level]]</div>
                        </template>
                    </vaadin-grid-column>
                </vaadin-grid>
            </div>
            <div on-tap="toggleToolsDiv">
                <h3>Tools</h3>
            </div>
            <div id="toolsDiv">
                <vaadin-grid aria-label="Skill Matrix" items="[[skills.tools]]">
                    <vaadin-grid-column>
                        <template class="header">Skill</template>
                        <template>[[item.skill]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">No of Years</template>
                        <template>[[item.noOFYears]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">Level</template>
                        <template>
                            <div>[[item.level]]</div>
                        </template>
                    </vaadin-grid-column>
                </vaadin-grid>
            </div>
        </div>
    </template>

    <script>
        class MyView6 extends Polymer.Element {
            static get is() { return 'my-view6'; }

            toggleProgrammingDiv() {
                this.toggleDiv(this.$.programmingDiv);
            }
            toggleFWDiv() {
                this.toggleDiv(this.$.frameworksDiv);
            }
            toggleToolsDiv() {
                this.toggleDiv(this.$.toolsDiv);
            }

            toggleDiv(div) {
                if (div.style.display == "none") {
                    div.style.display = "block";
                } else {
                    div.style.display = "none";
                }
            }
        }

        window.customElements.define(MyView6.is, MyView6);
    </script>
</dom-module>